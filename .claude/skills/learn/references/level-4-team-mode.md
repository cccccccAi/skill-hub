# 第4关：团队模式

## 目标

让用户理解多 Agent 协作写作的概念和流程，通过模拟演示看到"对抗→评审→融合"的完整链路。

## 教学流程

### 1. 检查第3关素材

检查 `./writing/drafts/interview-transcript.md` 是否存在。

- **存在** → 继续教学
- **不存在** → 提示用户：
  > 第4关需要用到第3关的访谈素材，但没找到记录。
  > 请先完成第3关：`/learn 3`

### 2. 讲解团队架构

> 上一关你用的是单人模式——一个 Agent 完成所有工作。
> 现在我们来看看团队模式，4 个 Agent 分工协作：

```
📋 Team Lead（总指挥）
    ├── 🎤 Interviewer — 负责深度访谈
    ├── ✍️ Writer A（悬念派）— 用悬念和反转吸引读者
    ├── ✍️ Writer B（洞察派）— 用洞察和金句打动读者
    └── 🔍 Critic — 6维度对比评审两篇草稿
```

> 两个写手根据同样的素材，用不同风格各写一篇。
> Critic 对比评审，Team Lead 综合两篇优点写出终稿。
>
> **接下来我用第3关的访谈素材，模拟演示一遍这个流程。**
> 想亲自体验完整版，课后可以运行 `/interview-write-team`。

### 3. 用户选择写作风格组合

使用 AskUserQuestion 提问：

```
两个写手要用不同风格对抗。你觉得哪种组合更有张力？
```
- 悬念派 vs 洞察派（经典对抗，一个制造悬念反转，一个提炼深度洞察）
- 感性派 vs 理性派（一个走情感共鸣，一个走逻辑说服）
- 叙事派 vs 观点派（一个讲故事，一个输出观点）

记录用户选择，后续模拟演示中体现所选风格。

### 4. 模拟演示团队流程

读取 `./writing/drafts/interview-transcript.md` 获取第3关的访谈素材。

**重要：这一步是 learn agent 自己模拟各角色，不需要启动真正的 Agent Team。**

#### 4.0 素材质量检查

读取 `./writing/drafts/interview-transcript.md`，检查内容长度：
- **≥ 1000 字符** → 素材充足，用真实素材模拟
- **< 1000 字符但存在** → 「访谈素材比较简短，我会用一个预设场景来演示团队流程，让你看到完整效果。」使用下方的示例素材
- **不存在** → 同上，使用示例素材

**内置示例素材（用于兜底）：**
> 主题：一个产品经理从大厂跳到创业公司的转变
> 场景：在大厂做了3年产品，觉得每天在写文档和开会，决定加入一个10人创业团队
> 转折：加入后发现没有流程、没有设计师，自己要从用户调研做到UI设计
> 情感：最初很崩溃，觉得"什么都要自己干"，后来发现这种"什么都做"反而让自己成长最快
> 金句："在大厂我是一颗螺丝钉，在创业公司我变成了一把瑞士军刀"

#### 4.1 模拟 Writer A + Writer B

根据访谈素材和用户选择的风格组合，分别模拟两个写手的产出。**每个写手只生成摘要片段，不写完整文章：**

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✍️ Writer A（{风格A}）摘要
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 标题：{一个吸睛标题}

📖 开头：
  {开头3行，体现该风格的特点}

💎 核心金句：
  {一句加粗金句}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✍️ Writer B（{风格B}）摘要
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 标题：{一个吸睛标题}

📖 开头：
  {开头3行，体现该风格的特点}

💎 核心金句：
  {一句加粗金句}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

简要点评两者的差异：
- 风格A的手法特点（2-3句）
- 风格B的手法特点（2-3句）
- 同样素材下两种风格的核心差异

#### 4.2 模拟 Critic 评审

生成简化的评审结果——只展示评分表和推荐结论，不写逐段引用：

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 Critic 评审结果
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

| 维度 | Writer A | Writer B |
|------|----------|----------|
| 标题吸引力 | X/10 | X/10 |
| 前三行张力 | X/10 | X/10 |
| 金句密度 | X/10 | X/10 |
| 故事起伏 | X/10 | X/10 |
| 认知颠覆度 | X/10 | X/10 |
| 字数控制 | X/10 | X/10 |
| **总分** | **XX/60** | **XX/60** |

📋 推荐：以 Writer {A/B} 为底稿
   理由：{一句话说明}
   从另一篇取：{具体取哪个元素}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 4.3 用户参与评审判断

使用 AskUserQuestion 提问：

```
Critic 推荐了 Writer {A/B} 作为底稿。你同意吗？
```
- 同意，{推荐的 Writer} 更好
- 不同意，我觉得 {另一位 Writer} 更好
- 各取一半，融合两篇的优点

根据用户选择，简要说明 Team Lead 会如何据此综合终稿。

#### 4.4 展示综合逻辑

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 Team Lead 综合逻辑
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

底稿：Writer {用户选择的}
融入：从另一篇取了 {具体元素}
调整：{根据 Critic 建议的改进}

→ 最终产出一篇融合两种风格优点的终稿

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 5. 概念对比：单人 vs 团队

用简洁的概念对比表收尾，不展示完整文章：

| 对比维度 | 单人模式（第3关） | 团队模式 |
|---------|-----------------|---------|
| Agent 数量 | 1 个 | 4 个（2写手+1评审+1总指挥） |
| 风格 | 单一视角 | 多视角对抗后融合 |
| 质量保障 | 自动优化1轮 | Critic 6维度评审 + 用户判断 |
| 耗时 | 快（~5分钟） | 慢（~15分钟） |
| 适用场景 | 日常快速产出 | 重要内容、需要高质量 |

> 团队模式的价值不是"人多力量大"，而是**不同视角的碰撞产生了单一视角无法达到的深度**。
>
> 想亲自体验完整的团队模式？课后运行：
> ```
> /interview-write-team 你的主题
> ```

## 验证

用户完成了以下两个交互即视为通过：
1. 选择了风格组合（Step 3）
2. 参与了评审判断（Step 4.3）

通过后显示：

```
✅ 第4关通过！你已经理解了多 Agent 团队协作的运作方式。
```

然后执行通关总结（见 summaries.md）。
