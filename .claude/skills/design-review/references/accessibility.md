# WCAG 2.1 AA 无障碍审查框架

## 四大原则速查

### 可感知（Perceivable）

| 标准 | 要求 | 检查方法 |
|------|------|---------|
| 1.1.1 非文本内容 | 所有图片有 alt 文本 | 检查所有 `<img>` 是否有 alt 属性 |
| 1.3.1 信息与关系 | 标题用语义标签（h1-h6），不只是加大字号 | 检查 HTML 结构是否用了正确的语义标签 |
| 1.4.3 对比度（最低） | 正文 ≥ 4.5:1，大字 ≥ 3:1 | 用对比度检查工具测量 |
| 1.4.11 非文本对比度 | UI 组件和图形 ≥ 3:1 | 检查图标、边框、表单控件的对比度 |

### 可操作（Operable）

| 标准 | 要求 | 检查方法 |
|------|------|---------|
| 2.1.1 键盘可访问 | 所有功能可通过键盘操作 | 拔掉鼠标，只用键盘试所有功能 |
| 2.4.3 焦点顺序 | Tab 顺序合理且可预测 | 按 Tab 键检查跳转顺序 |
| 2.4.7 焦点可见 | 当前焦点元素有明显的视觉指示 | 检查焦点环/高亮是否可见 |
| 2.5.5 目标大小 | 触控目标 ≥ 44×44px | 测量所有可点击元素的尺寸 |

### 可理解（Understandable）

| 标准 | 要求 | 检查方法 |
|------|------|---------|
| 3.2.1 焦点变化 | 获得焦点时不应自动改变上下文 | 检查是否有获得焦点就自动跳转的情况 |
| 3.3.1 错误识别 | 输入错误时有明确的文字说明 | 故意输入错误数据，检查提示 |
| 3.3.2 标签或说明 | 表单输入框有对应的标签 | 检查所有表单控件是否有可见标签 |

### 健壮性（Robust）

| 标准 | 要求 | 检查方法 |
|------|------|---------|
| 4.1.2 名称、角色、值 | 自定义组件有正确的 ARIA 属性 | 用辅助功能检查器测试 |

## 8 个最常见的无障碍问题

1. **图片没有 alt 文本** — 屏幕阅读器用户完全不知道图片内容
2. **对比度不足** — 低视力用户看不清文字
3. **键盘无法操作** — 运动障碍用户无法使用
4. **焦点样式被隐藏** — `outline: none` 是无障碍大忌
5. **触控目标太小** — 手指粗的用户点不准
6. **仅用颜色传达信息** — 色盲用户无法区分红色错误和绿色成功
7. **自动播放媒体** — 影响屏幕阅读器用户
8. **表单没有标签** — 屏幕阅读器用户不知道该填什么

## 5 步测试方法

### Step 1：自动扫描
使用浏览器扩展（axe、Lighthouse）做初步检查，能发现约 30% 的问题。

### Step 2：键盘测试
- 拔掉鼠标/触控板
- 用 Tab 键遍历所有交互元素
- 检查焦点是否可见、顺序是否合理
- 用 Enter/Space 激活按钮和链接
- 用 Escape 关闭弹窗/下拉

### Step 3：屏幕阅读器测试
- macOS：VoiceOver（Command + F5）
- Windows：NVDA（免费）或 Narrator
- 检查每个元素被读出的内容是否正确

### Step 4：对比度检查
- 用工具检查所有文字/背景色组合
- 特别注意：灰色文字、渐变背景上的文字、图片上的文字

### Step 5：缩放测试
- 页面放大到 200%，检查是否出现水平滚动条或内容被截断
- 检查 `prefers-reduced-motion` 是否被尊重

## 对比度速查

| 用途 | 最低对比度 | 常见问题 |
|------|-----------|---------|
| 正文文字 | 4.5:1 | 浅灰色文字（#999）在白色背景上只有 2.85:1 |
| 大字标题（≥18pt 或 ≥14pt 加粗） | 3:1 | 品牌色可能对比度不够 |
| UI 组件（边框、图标） | 3:1 | 细线边框常常不达标 |
| 占位符文字 | 4.5:1 | 大多数 placeholder 都不达标 |
| 禁用状态 | 无要求 | 但仍建议 ≥ 2:1 |
