# 开发交付文档框架

## 交付文档应包含什么

### 1. 视觉规格
- **布局**：网格系统、列数、间距
- **设计 Token**：颜色、字体、阴影、圆角、间距（用变量名，不用硬编码值）
- **断点**：响应式断点和布局变化规则
- **组件变体**：不同尺寸、颜色、状态的组件

### 2. 交互规格
- **点击/触摸行为**：每个可交互元素的操作和响应
- **Hover 效果**：鼠标悬停时的视觉变化（注意：移动端没有 hover）
- **过渡动效**：元素出现/消失/变化的动画参数
- **手势**：滑动、长按、拖拽（移动端）

### 3. 内容规格
- **字符限制**：标题/描述/按钮的最大字数
- **截断规则**：超出字数时用省略号、换行、还是缩小字号
- **空状态**：没有数据时显示什么
- **加载状态**：数据加载中显示什么（骨架屏/转圈/占位）
- **错误状态**：出错时显示什么

### 4. 边界情况
- **最小/最大内容**：0 条数据和 10000 条数据时的表现
- **国际化**：翻译后文字变长（德语通常比中文长 30%）
- **慢网络**：图片加载慢时的降级方案
- **缺失数据**：某个字段没有值时的显示

### 5. 无障碍
- **焦点顺序**：Tab 键的跳转顺序
- **ARIA 标签**：非文本元素的语义标注
- **键盘操作**：Enter/Space/Escape/方向键的行为
- **屏幕阅读器**：元素被读出时的文案

## 4 个原则

### 1. 不要假设——写清楚所有细节
开发不应该猜设计意图。间距是 8px 还是 12px？动画时长是 200ms 还是 300ms？都要标注。

### 2. 用 Token，不用硬编码值
```
✅ color: var(--primary)
❌ color: #1E40AF

✅ spacing: var(--space-4)
❌ margin: 16px
```

### 3. 展示所有状态
每个组件至少覆盖：
- 默认状态
- Hover 状态
- 点击/激活状态
- 禁用状态
- 聚焦状态（键盘导航）
- 加载状态
- 错误状态
- 空状态

### 4. 解释"为什么"
不只写"标题用 24px"，写"标题用 24px 因为在 375px 宽的屏幕上，这个字号保证一行能显示完大多数标题"。

## 常见交付问题

| 问题 | 后果 | 预防 |
|------|------|------|
| 只交付一个状态 | 开发自己猜其他状态 | 列出所有状态的清单 |
| 用像素值而非 Token | 改品牌色要改所有页面 | 建立 Token 体系 |
| 忽略边界情况 | 上线后数据异常导致页面崩溃 | 用检查清单逐一覆盖 |
| 动效描述不清 | 开发实现和设计预期不一致 | 标注：触发→动画→时长→缓动 |
| 没有标注焦点顺序 | 键盘用户无法正常操作 | 画出 Tab 顺序编号 |
