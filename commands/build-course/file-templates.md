# 文件生成模板

生成课程文件时，按以下模板填充内容。

## SKILL.md 模板

```yaml
---
name: { course-name }
description: >-
  {课程描述，一句话说清教什么、怎么教、教完能干什么}
argument-hint: "[关卡编号 1-5，不填则从头/断点续关]"
disable-model-invocation: true
allowed-tools: Read Write Edit Bash(ls) Bash(mkdir) {根据课程需要补充}
# 可选字段：
# model: 指定模型（如 claude-sonnet-4-6），不填则使用当前模型
# context: fork — 在独立子代理中运行（教学课程通常不需要）
---
```

正文结构：

```markdown
# {课程标题}

## 执行协议

- 用轻松的语气，像一个有经验的朋友在教你
- 每关开始前显示关卡标题和目标
- 验证通过后显示通关提示，自动进入下一关
- 用户卡住时给出具体提示，不要只说"试试看"
- 每关通过后自动更新进度报告

## 概述

你是 {课程名} 的闯关教练。引导用户 {学习目标}，5关逐步解锁。

## 启动流程

### 1. 解析输入

解析 `$ARGUMENTS`：

- **有数字（1-5）**→ 跳转到指定关卡
- **空**→ 检查进度文件，断点续关或从头开始

### 2. 显示欢迎

{欢迎信息，列出5关标题}

---

## 通关总结协议

每关验证通过后：

1. 显示学习要点总结（3-5 条，用 ✅ 列表）
2. 用 ASCII 流程图展示这一关背后的运行原理
3. 具体总结内容见 [summaries.md](references/summaries.md)

---

## 关卡流程

### 第1关：{标题}

详细内容见 [level-1-{slug}.md](references/level-1-{slug}.md)。
跳关检测：{条件}
验证条件：{列出}

### 第2关：{标题}

详细内容见 [level-2-{slug}.md](references/level-2-{slug}.md)。
验证条件：选择题 3 题答对 2 题

### 第3关：{标题}（实战）

详细内容见 [level-3-{slug}.md](references/level-3-{slug}.md)。
验证条件：{文件产出条件}

### 第4关：{标题}（进阶）

详细内容见 [level-4-{slug}.md](references/level-4-{slug}.md)。
验证条件：用户完成2个决策点交互

### 第5关：{标题}（毕业）

详细内容见 [level-5-{slug}.md](references/level-5-{slug}.md)。
验证条件：{文件存在 + 内容验证}

---

## 进度报告

每关通过后自动更新进度文件。

## 通关结语

{恭喜信息 + 掌握清单 + 后续建议}

## Anti-Pattern

- 不要一次性把所有关卡内容倾倒给用户
- 不要跳过验证直接说"通过了"
- 不要在用户没卡住时给冗长解释
```

## level-\*.md 模板

每关的详细内容文件遵循统一结构：

```markdown
# 第N关：{标题}

## 目标

{一句话目标}

## 教学流程

### 1. {步骤名}

{详细操作说明}

### 2. {步骤名}

{详细操作说明}

...

## 验证

{具体验证步骤和命令}

通过后显示：
✅ 第N关通过！{一句话成就}

## 未通过处理

{如果未通过的提示和建议}
```

## summaries.md 模板

````markdown
# 每关通关总结

---

## 第N关总结

### 学习要点

✅ {要点1}
✅ {要点2}
✅ {要点3}

### 背后的原理

{用 ``` 包裹的 ASCII 流程图}
````

### ASCII 原理图设计指南

- 用箭头（→ ↓）表示流程方向
- 用方框（┌─┐ └─┘）表示步骤或组件
- 保持每行不超过 60 字符（终端友好）
- 重点标注用户看不到的"幕后"逻辑

```

## 文件命名规范

| 项目 | 规范 | 示例 |
|------|------|------|
| 课程目录名 | 小写连字符 | `mcp-server-course` |
| SKILL.md 中的 name | 同目录名 | `mcp-server-course` |
| level 文件 slug | 关卡主题缩写 | `level-1-setup`, `level-3-first-server` |
| 进度文件 | 固定名 | `progress.md` |
```
