# 5关框架模板

从 learn skill 的实战经验中提炼出的通用闯关课程结构。

## 核心设计原则

1. **参与度递进**：跟着做 → 选择题 → 实战操作 → 微决策 → 手写创造
2. **前后关联**：后面的关卡复用前面的产出（如第3关素材供第4关使用）
3. **验证可执行**：每关有明确的通过条件，不能靠主观判断
4. **跳关检测**：已掌握的内容自动跳过，不浪费用户时间
5. **每关有总结**：学习要点（✅ 列表）+ ASCII 原理图

## 5关标准框架

### 第1关：环境搭建

**定位**：确保用户具备运行后续关卡的基础环境。

**模板结构**：

- 检测当前环境（已满足则自动跳关）
- 引导用户完成环境搭建
- 简要讲解目录结构 / 工具用途
- 验证方式：自动检测命令返回预期结果

**设计要点**：

- 这关大部分用户会被跳过，不要投入过多内容
- 非技术受众需要更详细的引导
- 预估耗时：1-5 分钟

### 第2关：概念认知

**定位**：让用户理解核心概念，为实战打基础。

**模板结构**：

- 展示一个真实案例（最好是第3关要用的那个）
- 逐块讲解关键组成部分
- 选择题测验（5题库抽3题，答对2题通过）
- 验证方式：选择题得分

**设计要点**：

- 用真实案例讲概念，不要抽象说教
- 选择题要覆盖核心知识点，错了立刻反馈正确答案
- 预估耗时：5-8 分钟

**选择题设计规范**：

- 每题 4 个选项，1 个正确
- 使用 AskUserQuestion 的 options 参数
- 错误选项要看起来合理（不能一眼看出错）
- 答错后给出简短解释，不要长篇大论

### 第3关：实战体验

**定位**：用户亲手操作，体验完整的工作流程。

**模板结构**：

- 让用户选择一个具体场景/主题（AskUserQuestion，3-4个选项）
- 直接在当前会话内执行完整流程（不让用户退出再重新输入）
- 实时保存中间产物
- 展示最终产出 + 简要点评
- 验证方式：指定目录下有新文件 + 文件内容满足最低要求

**设计要点**：

- **这关是教学高光时刻**，用户第一次看到"自己参与的内容变成了成品"
- 流程要在当前会话内完成（内联执行），不要让用户手动输入命令
- 中间产物保存到 drafts/ 或类似目录，供第4关复用
- 个性化提示：告诉用户可以替换/自定义的部分
- 预估耗时：10-20 分钟（最长的一关）

### 第4关：进阶演示

**定位**：展示更高级的使用模式，用户通过观察和微决策参与。

**模板结构**：

- 复用第3关的素材（不重复劳动）
- 讲解进阶模式的架构/原理
- 模拟演示进阶流程（不要求真实运行，避免权限/开销问题）
- 2个用户决策点（AskUserQuestion）
- 概念对比表：基础 vs 进阶
- 验证方式：用户完成2个决策点交互

**设计要点**：

- **信息密度要控制**——展示摘要和关键差异，不展示完整全文
- 模拟演示而非真实运行，降低技术复杂度和开销
- 用户决策点让用户从观众变成参与者
- 结尾引导用户课后自行体验完整版
- 预估耗时：8-12 分钟

### 第5关：自主创造（毕业）

**定位**：用户亲手创造一个属于自己的成果。

**模板结构**：

- 了解用户角色/场景（AskUserQuestion）
- 了解用户痛点（AskUserQuestion，基于角色定制选项）
- 给出定制化建议（3选1）
- **用户亲手写一个关键内容**（整个课程中最重要的手写环节）
- 1-2个设计决策（AskUserQuestion）
- 自动生成成果文件
- 展示成果 + 逐块讲解
- 用户审查并改一处
- 部署说明 + 模拟试跑
- 验证方式：文件存在 + 关键字段有效 + 内容量达标

**设计要点**：

- **第5关的"手写"环节是教学高潮**——整个课程里唯一需要用户打字的地方
- 不要让用户写太多（一句话就够），重点是从"选择"到"创造"的跨越
- 提供兜底选项（"帮我写一个"），但不作为默认路径
- 模拟试跑让用户看到"如果运行会发生什么"
- 预估耗时：10-15 分钟

## 总耗时基准

| 关卡     | 最短          | 典型       | 最长       |
| -------- | ------------- | ---------- | ---------- |
| 第1关    | 1分钟（跳过） | 3分钟      | 5分钟      |
| 第2关    | 3分钟         | 5分钟      | 8分钟      |
| 第3关    | 8分钟         | 15分钟     | 20分钟     |
| 第4关    | 5分钟         | 10分钟     | 12分钟     |
| 第5关    | 8分钟         | 12分钟     | 15分钟     |
| **总计** | **25分钟**    | **45分钟** | **60分钟** |
